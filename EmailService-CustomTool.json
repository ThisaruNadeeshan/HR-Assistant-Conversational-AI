{
  "name": "EmailService",
  "description": "Send email using Gmail SMTP",
  "color": "linear-gradient(rgb(94,179,40), rgb(152,28,45))",
  "iconSrc": "",
  "schema": "[{\"id\":0,\"property\":\"toEmail\",\"description\":\"The intended recipient's email address\",\"type\":\"string\",\"required\":true},{\"id\":1,\"property\":\"subject\",\"description\":\"The subject of email\",\"type\":\"string\",\"required\":true},{\"id\":2,\"property\":\"content\",\"description\":\"Content of email\",\"type\":\"string\",\"required\":true}]",
  "func": "const nodemailer = require('nodemailer');\n\n\nconst transporter = nodemailer.createTransport({\n    service: 'gmail',\n    auth: {\n        user: '<>', //add your email auth \n        pass: ''<>'  //auth \n    }\n});\n\nconst createEmailTemplate = (content, subject) => {\n    return `\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${subject}</title>\n        <style>\n            * {\n                margin: 0;\n                padding: 0;\n                box-sizing: border-box;\n            }\n            \n            body {\n                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                background-color: #f8fafc;\n                color: #334155;\n                line-height: 1.6;\n            }\n            \n            .email-container {\n                max-width: 600px;\n                margin: 0 auto;\n                background-color: #ffffff;\n                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);\n                border-radius: 12px;\n                overflow: hidden;\n            }\n            \n            .header {\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                padding: 40px 30px;\n                text-align: center;\n                position: relative;\n            }\n            \n            .header::before {\n                content: '';\n                position: absolute;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><defs><pattern id=\"grain\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\"><circle cx=\"25\" cy=\"25\" r=\"1\" fill=\"%23ffffff\" opacity=\"0.1\"/><circle cx=\"75\" cy=\"75\" r=\"1\" fill=\"%23ffffff\" opacity=\"0.1\"/><circle cx=\"25\" cy=\"75\" r=\"0.5\" fill=\"%23ffffff\" opacity=\"0.1\"/><circle cx=\"75\" cy=\"25\" r=\"0.5\" fill=\"%23ffffff\" opacity=\"0.1\"/></pattern></defs><rect width=\"100\" height=\"100\" fill=\"url(%23grain)\"/></svg>');\n                opacity: 0.3;\n            }\n            \n            .logo {\n                position: relative;\n                z-index: 2;\n                max-width: 120px;\n                height: auto;\n                margin-bottom: 20px;\n                border-radius: 8px;\n                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n            }\n            \n            .header-title {\n                position: relative;\n                z-index: 2;\n                color: #ffffff;\n                font-size: 28px;\n                font-weight: 700;\n                margin: 0;\n                text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n            }\n            \n            .content {\n                padding: 40px 30px;\n                background-color: #ffffff;\n            }\n            \n            .content h1, .content h2, .content h3 {\n                color: #1e293b;\n                margin-bottom: 16px;\n                font-weight: 600;\n            }\n            \n            .content h1 {\n                font-size: 24px;\n                border-bottom: 3px solid #667eea;\n                padding-bottom: 10px;\n                margin-bottom: 24px;\n            }\n            \n            .content p {\n                margin-bottom: 16px;\n                color: #475569;\n                font-size: 16px;\n            }\n            \n            .content ul, .content ol {\n                margin: 16px 0;\n                padding-left: 20px;\n            }\n            \n            .content li {\n                margin-bottom: 8px;\n                color: #475569;\n            }\n            \n            .highlight-box {\n                background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);\n                border-left: 4px solid #667eea;\n                padding: 20px;\n                margin: 24px 0;\n                border-radius: 0 8px 8px 0;\n            }\n            \n            .cta-button {\n                display: inline-block;\n                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                color: #ffffff !important;\n                text-decoration: none;\n                padding: 14px 28px;\n                border-radius: 8px;\n                font-weight: 600;\n                font-size: 16px;\n                text-align: center;\n                margin: 20px 0;\n                box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);\n                transition: all 0.3s ease;\n            }\n            \n            .cta-button:hover {\n                transform: translateY(-2px);\n                box-shadow: 0 6px 16px rgba(102, 126, 234, 0.5);\n            }\n            \n            .footer {\n                background-color: #1e293b;\n                color: #94a3b8;\n                padding: 30px;\n                text-align: center;\n                font-size: 14px;\n            }\n            \n            .footer p {\n                margin-bottom: 10px;\n            }\n            \n            .footer a {\n                color: #667eea;\n                text-decoration: none;\n            }\n            \n            .footer a:hover {\n                text-decoration: underline;\n            }\n            \n            .divider {\n                height: 2px;\n                background: linear-gradient(90deg, transparent 0%, #667eea 50%, transparent 100%);\n                margin: 30px 0;\n                border: none;\n            }\n            \n            @media (max-width: 600px) {\n                .email-container {\n                    margin: 0;\n                    border-radius: 0;\n                }\n                \n                .header {\n                    padding: 30px 20px;\n                }\n                \n                .content {\n                    padding: 30px 20px;\n                }\n                \n                .footer {\n                    padding: 20px;\n                }\n                \n                .header-title {\n                    font-size: 24px;\n                }\n                \n                .logo {\n                    max-width: 100px;\n                }\n            }\n        </style>\n    </head>\n    <body>\n        <div class=\"email-container\">\n            <div class=\"header\">\n                <img src=\"https://ik.imagekit.io/6nc1hxttu/ChatGPT%20Image%20Jun%2022,%202025,%2010_31_31%20PM%20(1).png?updatedAt=1750772272636\" alt=\"Company Logo\" class=\"logo\">\n                <h1 class=\"header-title\">${subject}</h1>\n            </div>\n            \n            <div class=\"content\">\n                ${content}\n            </div>\n            \n            <hr class=\"divider\">\n            \n            <div class=\"footer\">\n                <p><strong>Thank you for your time!</strong></p>\n                <p>This email was sent automatically. Please do not reply to this email.</p>\n                <p>Â© ${new Date().getFullYear()} IRIS Corporation. All rights reserved.</p>\n            </div>\n        </div>\n    </body>\n    </html>\n    `;\n};\n\nconst mailOptions = {\n    \n  from: {\n        name: 'Iris Corporation',\n        address: 'thisaruh4@gmail.com'\n    },\n    to: $toEmail,                   \n    subject: $subject,               \n    //text: $content                   \n   // html: $content                \n  html: createEmailTemplate($content, $subject)\n  \n};\n\ntry {\n    const info = await transporter.sendMail(mailOptions);\n    console.log('Email sent successfully:', info.messageId);\n    return `Email sent successfully: ${info.messageId}`;\n} catch (error) {\n    console.error('Error sending email:', error);\n    return `Error: ${error.message}`;\n}\n\n",
  "workspaceId": "c078e28d-b41e-49e6-8bd4-1aac39163ec8"
}